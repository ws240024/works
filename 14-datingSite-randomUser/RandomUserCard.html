<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RandomuserCard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
    <style>
        .card{
            min-width: 400px;
            border: unset;
            position: relative;
        }
        .heartBtn{
            width: 50px;
            height: 50px;
            font-size: 20px;
            text-align: center;
            position: absolute;
            right:13%;
            top:5%;
        }
        .card-title{
            font-weight: bold;
        }
        .text{
            padding: 5px;
            letter-spacing: 1px;
        }
        img{
            max-width: 200px;
            height: 200px;
        }
    </style>

</head>
<body>
    <div id="app">
        <div class="container">
            <div class="p-2">
                <button type="button" class="btn btn-outline-primary my-4 mx-5" @click="status = !status">åˆ‡æ›ç…§ç‰‡</button>
                <span v-if="status" class="text">ç¾åœ¨çš„ç…§ç‰‡ç‚º:æ¸…æ™°</span>
                <span v-else class="text">ç¾åœ¨çš„ç…§ç‰‡ç‚º:æ¨¡ç³Š</span>
            </div>
            <div class="row gap-3 justify-content-center">
                <div v-for="item in data" class="card col-md-6 col-lg-3 mb-3 p-3 bg-light">
                    <button type="button" class="heartBtn btn btn-outline-danger rounded-circle" @click="item.favorite = !item.favorite">
                        <i v-if="!item.favorite" class="bi bi-suit-heart"></i>
                        <i v-else class="bi bi-suit-heart-fill"></i>
                    </button>
                    <img v-if="status" class="card-img-top m-auto" :src="item.picture.large" alt="Card image cap" style="border-radius: 50%;">
                    <img v-else class="card-img-top m-auto" :src="item.picture.thumbnail" alt="Card image cap" style="border-radius: 50%;">
                    <div class="card-body p-0">
                      <h5 class="card-title">{{item.name.title}}. {{item.name.first}} {{item.name.last}}
                        <span v-if="item.gender === 'male'" ><i class="bi bi-gender-male"></i></span>
                        <span v-else="item.gender === 'male'"><i class="bi bi-gender-female"></i></span>
                      </h5>
                      <!-- å¯¦éš›æœ‰åŠŸèƒ½çš„a -->
                      <div class="text">ğŸ°Birthday:{{ birthday(item.dob.date) }}</div>
                      <div class="text">âœ‰ï¸E-mail:<a :href=`mailto:${item.email}`>{{item.email}}</a></div>
                      <div class="text">â˜ï¸Telephone:<a :href=`tel:${item.phone}`>{{item.phone}}</a></div>
                      <div class="text">ğŸ“±Cellphone:<a :href=`tel:${item.cell}`>{{item.cell}}</a></div>
                      <div class="text">ğŸ“ŒCountry:{{item.location.country}}</div>
                      <div class="text">Address:
                        <a :href=`https://www.google.com/maps/search/${item.location.country}${item.location.state}${item.location.city}${item.location.street.name}${item.location.street.number}` target="_blank">
                            {{item.location.country}} {{item.location.state}} {{item.location.city}} {{item.location.street.name}} {{item.location.street.number}}
                        </a>
                      </div>
                      <div class="text">
                        <iframe :src=`https://www.google.com/maps?q=${item.location.coordinates.latitude},${item.location.coordinates.longitude}&output=embed` width="100%" height="200"></iframe>
                      </div>
                    </div>
                </div>
            </div>
        </div>
        
    </div>

    <!-- <script src="./data.js"></script> -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script>

    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

    <script type="module">
        import { createApp } from 'https://cdnjs.cloudflare.com/ajax/libs/vue/3.3.4/vue.esm-browser.min.js';
        const app = createApp({
            data(){
                return {
                    //å…ˆå»ºç«‹ç©ºé™£åˆ—è®“ä»–å¯ä»¥æ”¾data
                    data: [],
                    status: true,
                }
            },
            methods:{
                birthday(birth){
                    return birth.substr(0 , 10);
                },
                // fetchè³‡æ–™çš„function thisæ˜¯æŒ‡é€™å€‹app
                fetch_data() {
                    let url = 'https://randomuser.me/api/?results=10';
                    fetch(url)
                        .then((response) => {
                            return response.json();
                        })
                        //å¦‚æœç”¨ä¸€èˆ¬çš„functionå‡½å¼ thisæœƒæ˜¯æŒ‡æ­¤function
                        .then((dataGet) => {
                            console.log(dataGet.results);
                            this.data = dataGet.results;
                        })
                },
                axios_data(){
                    let url = 'https://randomuser.me/api/?results=10';
                    axios.get(url)
                        .then((res) => {
                            this.data = res.data.results;
                        })
                },
            },
            mounted(){
                // fetchè³‡æ–™çš„function thisæ˜¯æŒ‡é€™å€‹app
                // const { fetch_data } = this; æŠŠå…§å®¹ç‰©å®šç¾©ç‚ºthis å°±å¯ä»¥ç›´æ¥ç”¨å…§å®¹
                // ä½†å¦‚æœæ²’æœ‰çš„è©±å‰‡åœ¨ä½¿ç”¨å‰è¦å¯«this =>è¡¨ç¤ºæ˜¯é€™å€‹appçš„methods
                // this.fetch_data();
                this.axios_data();
            },
        });
        app.mount('#app');
    </script>
    <script>
    </script>
</body>
</html>